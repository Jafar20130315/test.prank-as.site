<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test.prank-as.site</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: linear-gradient(135deg, #ffffff, #e6f2ff);
      margin: 0;
      padding: 0;
      text-align: center;
    }

    h1 {
      margin: 20px 0;
      color: #222;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 15px;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }

    .card {
      background: #fff;
      border-radius: 12px;
      padding: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: 0.3s;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }

    .card img {
      width: 80px;
      height: 80px;
    }

    .card p {
      margin-top: 10px;
      font-weight: bold;
    }

    .btn {
      background: #0078ff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
      font-size: 16px;
      margin: 5px;
    }

    .btn:hover {
      background: #005ed9;
    }

    #options, #classes, #download {
      margin-top: 30px;
      display: none;
    }

    #backBtn {
      margin-top: 30px;
      padding: 8px 18px;
      border: none;
      border-radius: 8px;
      background: #ccc;
      cursor: pointer;
      display: none;
    }

    input[type="text"] {
      padding: 10px;
      width: 60%;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-top: 10px;
      font-size: 15px;
    }
  </style>
</head>
<body>
  <h1 id="title">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç</h1>
  <div id="subjects" class="grid"></div>
  <div id="options"></div>
  <div id="classes"></div>
  <div id="download"></div>
  <button id="backBtn">–ù–∞–∑–∞–¥</button>

  <script>
    const subjects = [
      { name: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞", id: "matematika" },
      { name: "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫", id: "russkiy_yazyk" },
      { name: "–§–∏–∑–∏–∫–∞", id: "fizika" },
      { name: "–•–∏–º–∏—è", id: "himiya" },
      { name: "–ë–∏–æ–ª–æ–≥–∏—è", id: "biologiya" },
      { name: "–ò—Å—Ç–æ—Ä–∏—è", id: "istoriya" },
      { name: "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞", id: "informatika" },
      { name: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫", id: "angliyskiy_yazyk" },
    ];

    const subjectsDiv = document.getElementById("subjects");
    const optionsDiv = document.getElementById("options");
    const classesDiv = document.getElementById("classes");
    const downloadDiv = document.getElementById("download");
    const title = document.getElementById("title");
    const backBtn = document.getElementById("backBtn");

    let selectedSubject = null;
    let selectedType = null;
    let selectedClass = null;

    // üìò 1. Fanni chiqarish
    subjects.forEach(sub => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `
        <img src="icons/book.png" alt="${sub.name}">
        <p>${sub.name}</p>
      `;
      div.onclick = () => showOptions(sub);
      subjectsDiv.appendChild(div);
    });

    // üìó 2. –°–û–† / –°–û–ß tanlash
    function showOptions(subject) {
      selectedSubject = subject;
      subjectsDiv.style.display = "none";
      optionsDiv.style.display = "block";
      backBtn.style.display = "inline-block";
      title.textContent = subject.name;

      optionsDiv.innerHTML = `
        <button class="btn" onclick="selectType('–°–û–†')">–°–û–†</button>
        <button class="btn" onclick="selectType('–°–û–ß')">–°–û–ß</button>
      `;
    }

    // üìô 3. Sinfni tanlash
    function selectType(type) {
      selectedType = type;
      optionsDiv.style.display = "none";
      classesDiv.style.display = "block";
      title.textContent = `${selectedSubject.name} ‚Äî ${type}`;

      classesDiv.innerHTML = "";
      for (let i = 5; i <= 11; i++) {
        const btn = document.createElement("button");
        btn.textContent = `${i} –∫–ª–∞—Å—Å`;
        btn.className = "btn";
        btn.onclick = () => selectClass(i);
        classesDiv.appendChild(btn);
      }
    }

    // üìí 4. "–°–∫–∞—á–∞—Ç—å –¥–ª—è –ø–µ—á–∞—Ç–∏" bosqichi
    function selectClass(num) {
      selectedClass = num;
      classesDiv.style.display = "none";
      title.textContent = `${selectedSubject.name} ‚Äî ${selectedType} ‚Äî ${num} –∫–ª–∞—Å—Å`;

      downloadDiv.style.display = "block";
      downloadDiv.innerHTML = `
        <input id="pathInput" type="text" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: /tests/matematika/5/sor1.docx)">
        <br>
        <button class="btn" onclick="downloadFile()">–°–∫–∞—á–∞—Ç—å –¥–ª—è –ø–µ—á–∞—Ç–∏</button>
      `;
    }

    // üì• 5. Yuklab olish
    function downloadFile() {
      const path = document.getElementById("pathInput").value.trim();
      if (!path) return alert("–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É!");
      const a = document.createElement("a");
      a.href = path;
      a.download = '';
      a.click();
    }

    // üîô Orqaga qaytish
    backBtn.onclick = () => {
      subjectsDiv.style.display = "grid";
      optionsDiv.style.display = "none";
      classesDiv.style.display = "none";
      downloadDiv.style.display = "none";
      backBtn.style.display = "none";
      title.textContent = "–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç";
    };
  </script>
</body>
</html>

